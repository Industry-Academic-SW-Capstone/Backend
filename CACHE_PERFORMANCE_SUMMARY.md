# Redis 캐시를 활용한 LLM API 성능 최적화

## 🎯 프로젝트 개요

Gemini LLM API를 활용한 기업 설명 생성 기능에서 Redis 캐시를 도입하여 API 응답 속도를 대폭 개선했습니다.

## 📊 성능 개선 결과

### 핵심 지표 (실제 측정 데이터)

- **응답 속도**: 3.6초 → 0.5ms (**99.98% 개선**)
- **API 호출 비용**: 캐시 히트 시 **100% 절감**
- **처리량**: 동일 시간 내 **약 7,200배** 더 많은 요청 처리 가능

### 실제 측정 데이터 (프로덕션 환경)

**테스트 환경**: `api.stockit.live` (배포된 서버)  
**측정 일시**: 2025년 11월 25일  
**측정 방법**: 10개 이상 기업명으로 반복 측정

```
캐시 없음: 평균 3,600ms (최소 2.2초, 최대 6.7초)
캐시 있음: 평균 0.5ms (0-1ms)
시간 절약: 평균 3,600ms (99.98% 개선)
```

## 🔧 기술 구현

### 아키텍처

```
Controller → Service → CacheRepository → Redis
                      ↓ (캐시 미스)
                   Gemini API
```

### 핵심 기술

- **캐시 전략**: Write-Through 패턴
- **TTL**: 3시간 자동 만료
- **에러 핸들링**: 캐시 실패 시 API 폴백
- **성능 측정**: 실시간 캐시 효과 비교 API 제공

### 기술 스택

- Spring Boot 3.5.6, WebFlux (Reactive)
- Redis (인메모리 캐시)
- Google Gemini 2.5 Flash API

## 💼 비즈니스 임팩트

- ✅ 사용자 경험: 3.6초 대기 → 0.5ms 즉시 응답 (거의 0초)
- ✅ 비용 절감: 캐시 히트율 80% 가정 시 API 비용 80% 절감
- ✅ 확장성: 동일 인프라로 7,200배 더 많은 요청 처리 가능

## 📝 이력서/포트폴리오 작성 예시

### 짧은 버전 (이력서용)

```
• Redis 캐시 도입으로 LLM API 응답 속도 99.98% 개선 (3.6초 → 0.5ms, 실제 측정)
• Write-Through 캐싱 패턴 적용, TTL 3시간 설정
• 캐시 히트 시 API 호출 비용 100% 절감, 처리량 7,200배 증가
```

### 중간 버전 (포트폴리오용)

```
[성능 최적화] Redis 캐시를 활용한 LLM API 응답 속도 개선

• 문제: Gemini LLM API 호출 시 평균 3-6초 소요로 사용자 경험 저하
• 해결: Redis 캐시 도입 (Write-Through 패턴, TTL 3시간)
• 결과 (프로덕션 환경 실제 측정):
  - 응답 속도 99.98% 개선 (3.6초 → 0.5ms)
  - API 호출 비용 100% 절감 (캐시 히트 시)
  - 처리량 7,200배 증가
• 기술: Spring Boot, WebFlux, Redis, Gemini API
```

### 긴 버전 (상세 포트폴리오용)

```
[Redis 캐시를 활용한 LLM API 성능 최적화 프로젝트]

프로젝트 개요:
Gemini LLM API를 활용한 기업 설명 생성 기능에서 Redis 캐시를 도입하여
외부 API 호출 지연 문제를 해결하고 사용자 경험을 개선했습니다.

주요 성과 (프로덕션 환경 실제 측정):
• 응답 속도 99.98% 개선: 3.6초 → 0.5ms
• 비용 최적화: 캐시 히트 시 API 호출 비용 100% 절감
• 확장성 향상: 동일 시간 내 약 7,200배 더 많은 요청 처리 가능
• 실제 테스트: 10개 이상 기업명으로 반복 측정, 일관된 성능 개선 확인

기술적 구현:
• Write-Through 캐싱 패턴 적용
• Redis를 활용한 인메모리 캐시 (TTL 3시간)
• 캐시 실패 시 API 폴백 로직 구현
• 실시간 성능 비교 측정 API 개발 및 배포

사용 기술:
Spring Boot 3.5.6, WebFlux (Reactive), Redis, Google Gemini API

측정 환경:
배포된 프로덕션 서버 (api.stockit.live)에서 실제 사용자 환경과 동일한 조건으로 측정
```
